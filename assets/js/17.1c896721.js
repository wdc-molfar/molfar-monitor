(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{324:function(e,r,t){"use strict";t.r(r);var n=t(16),o=Object(n.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"програмнии-модуль-molfar-monitor-вступ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#програмнии-модуль-molfar-monitor-вступ"}},[e._v("#")]),e._v(" Програмний модуль "),r("strong",[e._v('"molfar-monitor"')]),e._v(" | Вступ")]),e._v(" "),r("p",[r("strong",[e._v("Програмний модуль "),r("a",{attrs:{href:"https://github.com/wdc-molfar/molfar-monitor",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("molfar-monitor")]),r("OutboundLink")],1),e._v(' – "Програмний модуль для моніторингу стану мікросервісів"')]),e._v(" - це RESTfull сервіс, написаний мовою програмування "),r("code",[e._v("JavaScript")]),e._v(", який надає можливості для моніторингу стану мікросервісів, зокрема: обробляти запити від мікросервісів для додавання їх до реєстру моніторингу, надсилання запитів до мікросервісів з метою визначити їх стан, доступність та працездатність, видаляти мікросервіси з реєстру моніторингу; та надає можливості управління мікросервісами, зокрема: перенаправляти запити до "),r("a",{attrs:{href:"https://github.com/wdc-molfar/molfar-node",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("molfar-node")]),r("OutboundLink")],1),e._v(" на розгортання, запуск, налаштування, зупинку та згортання мікросервісів; а також зберігає інформацію про поточний стан всіх зареєстрованих мікросервісів.")]),e._v(" "),r("h3",{attrs:{id:"зміст"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#зміст"}},[e._v("#")]),e._v(" Зміст")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#name"}},[e._v("Позначення та найменування програмного модуля")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#software"}},[e._v("Програмне забезпечення, необхідне для функціонування програмного модуля")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#function"}},[e._v("Функціональне призначення")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#structure"}},[e._v("Опис логічної структури")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#hardware"}},[e._v("Використовувані технічні засоби")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#run"}},[e._v("Виклик та завантаження")])])]),e._v(" "),r("p",[r("a",{attrs:{name:"name"}})]),r("h2",[e._v("Позначення та найменування програмного модуля")]),r("p"),e._v(" "),r("p",[e._v("Програмний модуль має позначення "),r("strong",[e._v('"molfar-monitor"')]),e._v(".")]),e._v(" "),r("p",[e._v("Повне найменування програмного модуля – "),r("strong",[e._v('"Програмний модуль для моніторингу стану мікросервісів"')]),e._v(".")]),e._v(" "),r("p",[r("a",{attrs:{name:"software"}})]),r("h2",[e._v("Програмне забезпечення, необхідне для функціонування програмного модуля")]),r("p"),e._v(" "),r("p",[e._v("Для функціонування програмного модуля, написаного мовами програмування "),r("code",[e._v("Python")]),e._v(" та "),r("code",[e._v("JavaScript")]),e._v(", необхідне наступне програмне забезпечення:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("Docker")]),e._v(" "),r("a",{attrs:{href:"https://docs.docker.com/engine/release-notes/#version-2010",target:"_blank",rel:"noopener noreferrer"}},[e._v("v20.10"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("Kubernetes")]),e._v(" "),r("a",{attrs:{href:"https://github.com/kubernetes/kubernetes/releases/tag/v1.22.4",target:"_blank",rel:"noopener noreferrer"}},[e._v("v1.22.4"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("та пакети:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("npm")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/npm/v/6.13.4",target:"_blank",rel:"noopener noreferrer"}},[e._v("v.6.13.4"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("node")]),e._v(" "),r("a",{attrs:{href:"https://nodejs.org/ru/blog/release/v12.16.1/",target:"_blank",rel:"noopener noreferrer"}},[e._v("v.12.16.1"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("axios")]),e._v(" "),r("a",{attrs:{href:"https://github.com/axios/axios/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.21.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("body-parser")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/body-parser/v/1.19.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v1.19.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("cookie-parser")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/cookie-parser/v/1.4.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("v1.4.5"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("cors")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/cors/v/2.8.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("v2.8.5"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("express")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/express/v/4.17.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.17.1"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("fs-extra")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/fs-extra/v/9.1.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v9.1.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("guid")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/guid/v/0.0.12",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.0.12"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("js-yaml")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/js-yaml/v/4.1.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.1.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("lodash")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/lodash/v/4.17.20",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.17.20"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("moment")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/moment/v/2.29.4",target:"_blank",rel:"noopener noreferrer"}},[e._v("v2.29.4"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("node-cron")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/node-cron/v/3.0.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v3.0.1"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("request-ip")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/request-ip/v/3.3.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v3.3.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("simpl.db")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/simpl.db/v/2.10.2",target:"_blank",rel:"noopener noreferrer"}},[e._v("v2.10.2"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("swagger-stats")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/swagger-stats/v/0.99.2",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.99.2"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("swagger-ui-express")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/swagger-ui-express/v/4.4.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.4.0"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("winston")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/winston/v/3.8.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v3.8.1"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("winston-daily-rotate-file")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/winston-daily-rotate-file/v/4.7.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.7.1"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("code",[e._v("yaml-js")]),e._v(" "),r("a",{attrs:{href:"https://www.npmjs.com/package/yaml-js/v/0.3.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.3.0"),r("OutboundLink")],1)])]),e._v(" "),r("p",[r("a",{attrs:{name:"function"}})]),r("h2",[e._v("Функціональне призначення")]),r("p"),e._v(" "),r("p",[e._v("Програмний модуль призначений для моніторингу стану мікросервісів, зокрема надає можливості для обробки запитів від мікросервісів для додавання їх до реєстру моніторингу, надсилання запитів до мікросервісів з метою визначити їх стан, доступність та працездатність, видаляти мікросервіси з реєстру моніторингу; а також призначений для управління мікросервісами, і зокрема дозволяє перенаправляти запити до "),r("a",{attrs:{href:"https://github.com/wdc-molfar/molfar-node",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("molfar-node")]),r("OutboundLink")],1),e._v(" на розгортання, запуск, налаштування, зупинку та згортання мікросервісів. Також програмний модуль зберігає інформацію про поточний стан всіх зареєстрованих мікросервісів.")]),e._v(" "),r("p",[r("a",{attrs:{name:"structure"}})]),r("h2",[e._v("Опис логічної структури")]),r("p"),e._v(" "),r("p",[e._v("Програмний модуль складається з:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("javascript")]),e._v(" – програмний підмодуль, що приймає та оброблює запити")])]),e._v(" "),r("p",[r("a",{attrs:{name:"hardware"}})]),r("h2",[e._v("Використовувані технічні засоби")]),r("p"),e._v(" "),r("p",[e._v("Програмний модуль експлуатується на сервері під управлінням "),r("code",[e._v("Node.js")]),e._v(", а також HTTP-клієнт "),r("code",[e._v("axios")]),e._v(" на основі промісів для нього.\nВ основі управління викликів з теміналу є менеджер пакетів "),r("code",[e._v("npm")]),e._v(".\nВ основі управління всіх сервісів є система оркестрації "),r("code",[e._v("Kubernetes")]),e._v(", де всі контейнери працюють з використанням "),r("code",[e._v("Docker")]),e._v(".")]),e._v(" "),r("p",[r("a",{attrs:{name:"run"}})]),r("h2",[e._v("Виклик та завантаження")]),r("p"),e._v(" "),r("p",[e._v("Для запуску програмного модуля "),r("strong",[r("code",[e._v("molfar-monitor")])]),e._v(" необхідно:")]),e._v(" "),r("ol",[r("li",[e._v("Клонувати репозиторій:")])]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/wdc-molfar/molfar-monitor.git\n")])])]),r("ol",{attrs:{start:"2"}},[r("li",[e._v("Перейти в директорію склонованого репозиторія та проінсталювати всі залежності:")])]),e._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /molfar-monitor\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),r("p",[e._v("Завантаження програмного модуля забезпечується введенням в WEB-браузері адреси завантажувального модуля "),r("a",{attrs:{href:"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://{hostname}"),r("OutboundLink")],1),e._v(" з можливими вказівками:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://localhost:8080/state",target:"_blank",rel:"noopener noreferrer"}},[e._v("/state"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("GET")]),e._v(" для отримання інформації про стан та працездатність контейнера")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/node/register",target:"_blank",rel:"noopener noreferrer"}},[e._v("/node/register"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для додавання вузла в реєстр моніторингу")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/node/unregister",target:"_blank",rel:"noopener noreferrer"}},[e._v("/node/unregister"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для видалення вузла з реєстру моніторингу")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/node/state/:instance",target:"_blank",rel:"noopener noreferrer"}},[e._v("/node/state/:instance"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("GET")]),e._v(" для отримання інформації про стан та працездатність окремого вузла за ідентифікатором "),r("code",[e._v("instance")])]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/node/deploy/:instance",target:"_blank",rel:"noopener noreferrer"}},[e._v("/node/deploy/:instance"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для направлення запиту на завантаження сервісу в контейнер за ідентифікатором вузла "),r("code",[e._v("instance")]),e._v(" (розгортання сервісу) та повернення інформації про результат завантаження")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/ms/start/:id",target:"_blank",rel:"noopener noreferrer"}},[e._v("/ms/start/:id"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для направлення запиту на запуск сервісу за ідентифікатором "),r("code",[e._v("id")]),e._v(" та повернення інформації про запуск")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/ms/config/:id",target:"_blank",rel:"noopener noreferrer"}},[e._v("/ms/config/:id"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для направлення запиту на конфігурацію сервісу за ідентифікатором "),r("code",[e._v("id")]),e._v(" та повернення інформації про конфігурацію")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/ms/metrics/:id",target:"_blank",rel:"noopener noreferrer"}},[e._v("/ms/metrics/:instance"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("GET")]),e._v(" для отримання метрик сервісу за ідентифікатором "),r("code",[e._v("id")])]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/ms/terminate/:id",target:"_blank",rel:"noopener noreferrer"}},[e._v("/ms/terminate/:id"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для направлення запиту на запинку сервісу за ідентифікатором "),r("code",[e._v("id")]),e._v(" та повернення інформації про зупинку")]),e._v(" "),r("li",[r("a",{attrs:{href:"http://localhost:8080/node/undeploy/:instance",target:"_blank",rel:"noopener noreferrer"}},[e._v("/node/undeploy/:instance"),r("OutboundLink")],1),e._v(" - метод "),r("code",[e._v("POST")]),e._v(" для направлення запиту на вивантаження сервісу з контейнера за ідентифікатором вузла "),r("code",[e._v("instance")]),e._v(" (згортання сервісу) та повернення інформації про результат вивантаження")])])])}),[],!1,null,null,null);r.default=o.exports}}]);